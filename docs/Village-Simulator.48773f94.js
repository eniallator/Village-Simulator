parcelRequire=function(e,r,n){var t="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(n,o){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!o&&f)return f(n,!0);if(t)return t(n,!0);if(i&&"string"==typeof n)return i(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}a.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,a,l,l.exports)}return r[n].exports;function a(e){return u(a.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=t;for(var o=0;o<n.length;o++)u(n[o]);return u}({8:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,n),this.x=t,this.y=e}return e(n,[{key:"_operation",value:function(e,r){var n=r(e),i=t(n,2);this.x=i[0],this.y=i[1]}},{key:"add",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=function(t){return[e.x+t.x,e.y+t.y]};t instanceof n?this._operation(t,i):"number"==typeof t&&"number"==typeof r?this._operation(new n(t,r),i):console.error("Error Point.add didn't receive the correct arguments")}},{key:"sub",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=function(t){return[e.x-t.x,e.y-t.y]};t instanceof n?this._operation(t,i):"number"==typeof t&&"number"==typeof r?this._operation(new n(t,r),i):console.error("Error Point.add didn't receive the correct arguments")}},{key:"multiply",value:function(t){var e=this,r=function(t){return[e.x*t,e.y*t]};"number"==typeof t?this._operation(t,r):console.error("Error Point.multiply didn't receive the correct arguments")}},{key:"checkEquals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"getNormalised",value:function(){if(this.x||this.y){var t=Math.sqrt(this.x*this.x+this.y*this.y);return new n(this.x/t,this.y/t)}return new n}},{key:"getDifference",value:function(t){if(t instanceof n)return new n(t.x-this.x,t.y-this.y)}},{key:"getMagnitude",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}}]),n}();exports.default=n;
},{}],13:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),e=require("./Point"),i=n(e);function n(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t,n,s){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),t instanceof i.default?(this.pos=new i.default(t.x,t.y),this.width=n,this.height=s):(this.pos=new i.default(t,n),this.width=s,this.height=o)}return t(e,[{key:"detectCollision",value:function(t){var n=t;return t instanceof i.default&&(n=new e(t,0,0)),n instanceof e&&this.x-this.width/2<n.x+n.width/2&&n.x-n.width/2<this.x+this.width/2&&this.y-this.height/2<n.y+n.height/2&&n.y-n.height/2<this.y+this.height/2}},{key:"draw",value:function(t){t.strokeRect(this.x-this.width/2,this.y-this.height/2,this.width,this.height)}},{key:"x",get:function(){return this.pos.x},set:function(t){this.pos.x=t}},{key:"y",get:function(){return this.pos.y},set:function(t){this.pos.y=t}}]),e}();exports.default=s;
},{"./Point":8}],24:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),e=require("../Point"),n=i(e);function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(t,i){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;r(this,e),t instanceof n.default?(this.pos=new n.default(t.x,t.y),this.distanceMultiplier=i||1):(this.pos=new n.default(t,i),this.distanceMultiplier=u)}return t(e,[{key:"getDistance",value:function(t){return this.distanceMultiplier*Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}},{key:"x",get:function(){return this.pos.x}},{key:"y",get:function(){return this.pos.y}}]),e}();exports.default=u;
},{"../Point":8}],36:[function(require,module,exports) {
"use strict";function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function t(t,n){var r=0,o=!0,i=!1,a=void 0;try{for(var d,l=t[Symbol.iterator]();!(o=(d=l.next()).done);o=!0){if(!(d.value.totalValue<n.totalValue))break;r++}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}return[].concat(e(t.slice(0,r)),[n],e(t.slice(r)))}function n(e,n,r,o){return r.reduce(function(r,i,a){var d=i.node;if(o(e,d)){var l=e.getDistance(d);return t(r,{index:a,prevNodeIndex:-1,totalValue:n.getDistance(d)+l,totalWeight:l})}return r},[])}function r(e,r,o,i){var a=function(e,t){return e.totalWeight>=0&&e.totalWeight<=t.totalValue},d=[],l=[],u=!0;i(e,r)||(u=!1,l=n(e,r,o,i));for(var f={node:r,totalWeight:-1,prevNodeIndex:-1},c=1e4,v=void 0;l.length;){if(c--<=0)throw new Error("Reactor overloaded");v=l.shift();var h=i(r,o[v.index].node);if(a(f,v))break;var s=function(e){if(d.some(function(t){return t.index===e}))return"continue";var n=r.getDistance(o[e].node),i=o[v.index].node.getDistance(o[e].node)+v.totalWeight,a=n+i;if(h){var u=r.getDistance(o[v.index].node);(f.totalWeight<0||u<f.totalWeight)&&(f.totalWeight=u,f.prevNodeIndex=v.index)}var c=l.findIndex(function(t){return t.index===e});if(c>-1){if(l[c].totalValue<=a)return"continue";l.splice(c,1)}l=t(l,{index:e,prevNodeIndex:v.index,totalValue:a,totalWeight:i})},x=!0,g=!1,p=void 0;try{for(var y,W=o[v.index].edges[Symbol.iterator]();!(x=(y=W.next()).done);x=!0)s(y.value)}catch(e){g=!0,p=e}finally{try{!x&&W.return&&W.return()}finally{if(g)throw p}}d.push(v)}for(var I=[r.pos],N=f.prevNodeIndex;N>=0;)I.unshift(o[N].node.pos),N=d.find(function(e){return e.index===N}).prevNodeIndex;return I.unshift(e.pos),u||2!==I.length||console.log("Could not find a valid route when pathfinding"),I}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;
},{}],27:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),t=require("../Hitbox"),i=s(t),n=require("../Point"),r=s(n),a=require("./Node"),o=s(a),h=require("./AStarFinder"),d=s(h);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(e,i,n){u(this,t),this.obstacles=e,this.nodeWidth=i,this.nodeHeight=n,this.adjacencyList=[],this.update=!1}return e(t,[{key:"_checkLineOfSight",value:function(e,t){var n,a=(e.y-t.y)/(e.x-t.x),o=a<0?-1:1,h=a<0?1:-1,d=new r.default(e.x+o*this.nodeWidth/2,e.y-this.nodeHeight/2),s=new r.default(e.x+h*this.nodeWidth/2,e.y+this.nodeHeight/2),u=function(e){return e.y<a*(e.x-s.x)+s.y},c=new i.default(e.x+(t.x-e.x)/2,e.y+(t.y-e.y)/2,Math.max(e.x-t.x+this.nodeWidth,t.x-e.x+this.nodeWidth)-1e-9,Math.max(e.y-t.y+this.nodeHeight,t.y-e.y+this.nodeHeight)-1e-9),y=!0,l=!1,f=void 0;try{for(var v,x=this.obstacles[Symbol.iterator]();!(y=(v=x.next()).done);y=!0){var g=v.value;if(c.detectCollision(g.hitbox)){var b=new r.default(g.x+o*g.width/2,g.y-g.height/2),k=new r.default(g.x+h*g.width/2,g.y+g.height/2);if((n=k).y>a*(n.x-d.x)+d.y&&u(b))return!1}}}catch(e){l=!0,f=e}finally{try{!y&&x.return&&x.return()}finally{if(l)throw f}}return!0}},{key:"addNode",value:function(e){if(e instanceof o.default){var t={node:e,edges:[]};for(var i in this.adjacencyList){var n=Number(i),r=this.adjacencyList[n].node;this._checkLineOfSight(e,r)&&(t.edges.push(n),this.adjacencyList[n].edges.push(this.adjacencyList.length))}this.adjacencyList.push(t)}}},{key:"getShortestRoute",value:function(e,t){return(0,d.default)(e,t,this.adjacencyList,this._checkLineOfSight.bind(this))}},{key:"draw",value:function(e){var t=!0,i=!1,n=void 0;try{for(var r,a=this.adjacencyList[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o=r.value,h=o.node,d=o.edges;e.strokeStyle="blue",e.strokeRect(h.x-this.nodeWidth/2,h.y-this.nodeHeight/2,this.nodeWidth,this.nodeHeight);var s=!0,u=!1,c=void 0;try{for(var y,l=d[Symbol.iterator]();!(s=(y=l.next()).done);s=!0){var f=y.value;e.strokeStyle="lime",e.beginPath(),e.moveTo(h.x,h.y),e.lineTo(this.adjacencyList[f].node.x,this.adjacencyList[f].node.y),e.stroke()}}catch(e){u=!0,c=e}finally{try{!s&&l.return&&l.return()}finally{if(u)throw c}}}}catch(e){i=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw n}}e.strokeStyle="black"}}]),t}();exports.default=c;
},{"../Hitbox":13,"../Point":8,"./Node":24,"./AStarFinder":36}],14:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),e=require("../Hitbox"),r=u(e),n=require("./Network"),o=u(n),i=require("./Node"),a=u(i);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=function(){function e(t){l(this,e),this.map=t,this.networks={}}return t(e,[{key:"_getNetworkKey",value:function(t){return"w"+t.width+"h"+t.height}},{key:"_getNetwork",value:function(t){var e=this._getNetworkKey(t);return e in this.networks||this.addNetwork(t),this.networks[e]}},{key:"_buildNetwork",value:function(t){var e=this,n=new o.default(this.map.obstacles,t.width,t.height),i=[],a=!0,u=!1,l=void 0;try{for(var f,s=this.map.obstacles[Symbol.iterator]();!(a=(f=s.next()).done);a=!0){var h=f.value.getNodes(t).filter(function(n){return!e.map.checkCollision(new r.default(n.pos,t.width,t.height))}),c=!0,d=!1,v=void 0;try{for(var w,y=h[Symbol.iterator]();!(c=(w=y.next()).done);c=!0){var k=w.value;i.push(k)}}catch(t){d=!0,v=t}finally{try{!c&&y.return&&y.return()}finally{if(d)throw v}}}}catch(t){u=!0,l=t}finally{try{!a&&s.return&&s.return()}finally{if(u)throw l}}var b=!0,p=!1,N=void 0;try{for(var g,_=i[Symbol.iterator]();!(b=(g=_.next()).done);b=!0){var m=g.value;n.addNode(m)}}catch(t){p=!0,N=t}finally{try{!b&&_.return&&_.return()}finally{if(p)throw N}}return n}},{key:"updateNetworks",value:function(){var t=!0,e=!1,r=void 0;try{for(var n,o=Object.values(this.networks)[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){n.value.update=!0}}catch(t){e=!0,r=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw r}}}},{key:"getShortestRoute",value:function(t,e){var r=new a.default(t.pos),n=new a.default(e);return this._getNetwork(t).getShortestRoute(r,n)}},{key:"addNetwork",value:function(t){if(!(t instanceof r.default))return!1;var e=this._getNetworkKey(t);if(!(e in this.networks)){var n=this._buildNetwork(t);this.networks[e]=n}return!0}},{key:"drawNetwork",value:function(t,e){this._getNetwork(t).draw(e)}}]),e}();exports.default=f;
},{"../Hitbox":13,"./Network":27,"./Node":24}],23:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),e=require("./Hitbox"),n=r(e);function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t,r,o,u){i(this,e),this.hitbox=new n.default(t,r,o,u)}return t(e,[{key:"pos",get:function(){return this.hitbox.pos}},{key:"x",get:function(){return this.hitbox.x}},{key:"y",get:function(){return this.hitbox.y}},{key:"width",get:function(){return this.hitbox.width}},{key:"height",get:function(){return this.hitbox.height}}]),e}();exports.default=o;
},{"./Hitbox":13}],12:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t=require("./Entity"),r=i(t),n=require("./Pathfinding/Node"),o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(t){function n(){return u(this,n),f(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,r.default),e(n,[{key:"getNodes",value:function(e){for(var t=[],r=-1;r<=1;r+=2)for(var n=-1;n<=1;n+=2)t.push(new o.default(this.x+r*(this.width/2+e.width/2),this.y+n*(this.height/2+e.height/2)));return t}}]),n}();exports.default=c;
},{"./Entity":23,"./Pathfinding/Node":24}],21:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./Obstacle"),t=o(e);function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e){function o(e,t){return r(this,o),n(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t,40,40))}return u(o,t.default),o}();exports.default=i;
},{"./Obstacle":12}],33:[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var e=function e(n,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t(this,e),this.name=n,this.action=a,this.data=i,this};exports.default=e;
},{}],34:[function(require,module,exports) {
module.exports="still.c90d994f.png";
},{}],22:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),e=require("./Entity"),i=h(e),n=require("./Hitbox"),a=h(n),o=require("./Task"),s=h(o),r=require("../assets/images/villager/still.png"),u=h(r);function h(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=new Image;c.src=u.default;var d=function(e){function n(t,e,i){l(this,n);var a=2*c.width,o=p(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,i,a,a));return o.map=t,o.actions={pathfind:function(t){if("points"in t.data||(t.data.points=this.map.pathfind(this.hitbox,t.data.hitbox.pos)),t.data.points.length&&this.pos.checkEquals(t.data.points[0])&&t.data.points.shift(),!t.data.points.length)return!0;this.moveTo(t.data.points[0])}},o.taskQueue=[],o.speed=1,o}return f(n,i.default),t(n,[{key:"moveTo",value:function(t){var e=this.pos.getDifference(t),i=e.getNormalised(),n=e.getMagnitude();n<this.speed?i.multiply(n):i.multiply(this.speed),this.pos.add(i)}},{key:"addTask",value:function(t){t instanceof s.default&&this.taskQueue.push(t)}},{key:"update",value:function(){if(this.taskQueue.length>0){!0===this.actions[this.taskQueue[0].action].call(this,this.taskQueue[0])&&this.taskQueue.shift()}else{var t=void 0;do{t=new a.default(960*Math.random(),540*Math.random(),this.width,this.height)}while(this.map.checkCollision(t));this.taskQueue.push(new s.default("Random pathing","pathfind",{hitbox:t}))}}},{key:"draw",value:function(t){var e=c,i=2*e.width,n=2*e.height,a=this.taskQueue[0];if(t.strokeStyle="red",a&&"points"in a.data)for(var o=[this.pos].concat(a.data.points),s=1;s<o.length;s++)t.strokeStyle="rgb("+(255-(s-1)/(o.length-1)*255)+", 0, 0)",t.beginPath(),t.moveTo(o[s-1].x,o[s-1].y),t.lineTo(o[s].x,o[s].y),t.stroke();t.strokeStyle="white",t.drawImage(e,this.pos.x-i/2,this.pos.y-n,i,n)}}]),n}();exports.default=d;
},{"./Entity":23,"./Hitbox":13,"./Task":33,"../assets/images/villager/still.png":34}],11:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(r,t,a){return t&&e(r.prototype,t),a&&e(r,a),r}}(),r=require("./VillageCentre"),t=i(r),a=require("./Villager"),n=i(a);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var o=function(){function r(e,a,i){l(this,r),this.villageCentre=new t.default(a,i),this.map=e,this.villagers=[],this.map.registerObstacle(this.villageCentre);for(var o=0;o<5;o++){var u=new n.default(this.map,960*Math.random(),540*Math.random());this.villagers.push(u)}}return e(r,[{key:"update",value:function(){var e=!0,r=!1,t=void 0;try{for(var a,n=this.villagers[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){a.value.update()}}catch(e){r=!0,t=e}finally{try{!e&&n.return&&n.return()}finally{if(r)throw t}}}},{key:"draw",value:function(e){var r=!0,t=!1,a=void 0;try{for(var n,i=this.villagers[Symbol.iterator]();!(r=(n=i.next()).done);r=!0){n.value.draw(e)}}catch(e){t=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(t)throw a}}}}]),r}();exports.default=o;
},{"./VillageCentre":21,"./Villager":22}],30:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t=require("../Obstacle"),n=r(t);function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(t){function r(e,t,n,i,a){o(this,r);var c=u(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,n,i,a));return c.quantity=e,c.depleted=!1,c}return i(r,n.default),e(r,[{key:"gather",value:function(e){return this.quantity-e>0?e:(this.depleted=!0,this.quantity=0,this.quantity)}}]),r}();exports.default=a;
},{"../Obstacle":12}],15:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t=require("./BaseResource"),r=n(t);function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(t){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,r.default),e(n,[{key:"draw",value:function(e){e.stokeStyle="gold",e.strokeRect(this.x-this.width/2,this.y-this.height/2,this.width,this.height)}}]),n}();exports.default=a;
},{"./BaseResource":30}],7:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),e=require("./Pathfinding/Pathfinder"),r=f(e),i=require("./Village"),a=f(i),n=require("./Obstacle"),o=f(n),l=require("./Hitbox"),s=f(l),u=require("./Resources/GoldDeposit"),h=f(u);function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(t){d(this,e),this.mapLimit=t,this.pathfinder=new r.default(this),this.obstacles=[],this.villages=[new a.default(this,this.mapLimit.x/2,this.mapLimit.y/2)];for(var i=0;i<10;i++)this.registerObstacle(new o.default(Math.random()*this.mapLimit.x,Math.random()*this.mapLimit.y,40,20));this._testHitbox=new s.default(960*Math.random(),540*Math.random(),16,16),this.gold=new h.default(1500,100,100,20,20),this.registerObstacle(this.gold),this.pathfinder.addNetwork(this._testHitbox)}return t(e,[{key:"registerObstacle",value:function(t){this.obstacles.push(t),this.pathfinder.updateNetworks()}},{key:"checkCollision",value:function(t){if(t.x<0||t.y<0||t.x+t.width>this.mapLimit.x||t.y+t.height>this.mapLimit.y)return!0;var e=!0,r=!1,i=void 0;try{for(var a,n=this.obstacles[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var o=a.value;if(t.detectCollision(o.hitbox))return!0}}catch(t){r=!0,i=t}finally{try{!e&&n.return&&n.return()}finally{if(r)throw i}}}},{key:"pathfind",value:function(t,e){return this.pathfinder.getShortestRoute(t,e)}},{key:"update",value:function(){var t=!0,e=!1,r=void 0;try{for(var i,a=this.villages[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.update()}}catch(t){e=!0,r=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw r}}}},{key:"draw",value:function(t){this.pathfinder.drawNetwork(this._testHitbox,t);var e=!0,r=!1,i=void 0;try{for(var a,n=this.obstacles[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){a.value.hitbox.draw(t)}}catch(t){r=!0,i=t}finally{try{!e&&n.return&&n.return()}finally{if(r)throw i}}var o=!0,l=!1,s=void 0;try{for(var u,h=this.villages[Symbol.iterator]();!(o=(u=h.next()).done);o=!0){u.value.draw(t)}}catch(t){l=!0,s=t}finally{try{!o&&h.return&&h.return()}finally{if(l)throw s}}this.gold.draw(t)}}]),e}();exports.default=c;
},{"./Pathfinding/Pathfinder":14,"./Village":11,"./Obstacle":12,"./Hitbox":13,"./Resources/GoldDeposit":15}],5:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),e=require("./Map"),i=r(e),n=require("./Point"),a=r(n);function r(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(t,n){u(this,e),this.canvas=t,this.ctx=n,this.map=new i.default(new a.default(t.width,t.height))}return t(e,[{key:"update",value:function(){this.map.update()}},{key:"draw",value:function(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="black",this.ctx.strokeStyle="black",this.map.draw(this.ctx)}}]),e}();exports.default=c;
},{"./Map":7,"./Point":8}],3:[function(require,module,exports) {
"use strict";var e=require("./src/Engine"),t=n(e);function n(e){return e&&e.__esModule?e:{default:e}}var a=document.getElementById("game-canvas"),r=a.getContext("2d");r.imageSmoothingEnabled=!1;var u=new t.default(a,r);function d(){u.update(),u.draw(),requestAnimationFrame(d)}d();
},{"./src/Engine":5}]},{},[3])
//# sourceMappingURL=Village-Simulator.d7a6cc1e.map